
REP_NAME=zeroapp-`date +%s`

if [ -d ../zeroapp-new ]; then 
mv ../zeroapp-new ../$REP_NAME.bak
fi

git clone .git  ../zeroapp-new/
git clone mathlib/.git  ../zeroapp-new/mathlib
git clone apputil/.git  ../zeroapp-new/apputil

#git clone .git  $REP_NAME/
#git clone mathlib/.git  $REP_NAME/mathlib
#git clone apputil/.git  $REP_NAME/apputil
 

# steps for cloning
# 1) rename old work directory with generated archive name
# 1) create new work directory from the latest clone using the name of 
     old working directory
# 2) copy all tracked files from old work directory to the new work directory
if [ -d ../$REP_NAME.bak ]; then
rsync -av --ignore-existing --exclude '.git' ../$REP_NAME.bak/ ../zeroapp-new/
fi